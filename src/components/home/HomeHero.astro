---
import { Icon } from 'astro-icon/components';
import Terminal from '../organisms/Terminal.astro';
import { heroConfig } from '../../content/pages/home/hero.config';
import HomeWorldMapCarousel from './HomeWorldMapCarousel.astro';

const { announcement, title, subtitle, cta, testimonials, trustMarquee, scrollIndicator, statPills } = heroConfig;
const primaryCTA = cta.buttons.find(btn => btn.type === 'primary');
const secondaryCTAs = cta.buttons.filter(btn => btn.type === 'secondary');

const pulseColors = {
  green: 'var(--green-500-light)',
  red: 'var(--red-500)',
  accent: 'var(--accent)'
};
const pulseSizes = {
  sm: '6px',
  md: '8px',
  lg: '10px'
};
---

<section class="hero" id="hero">

  <div class="hero-container">
    <div class="hero-content">
      {announcement.show && (
        <a href={announcement.url} class="announcement">
          <span class="announcement-shimmer"></span>
          {announcement.liveIndicator.show && (
            <span class="announcement-live">
              
              <span
                class="live-pulse"
                style={`--pulse-color: ${pulseColors[announcement.liveIndicator.color] || pulseColors.red}; --pulse-size: ${pulseSizes.sm};`}
              ></span>
              LIVE
            </span>
          )}
          <span class="announcement-text">
            <span class="announcement-headline">{announcement.headline}</span>
            <span class="announcement-sub">{announcement.subtext}</span>
          </span>
          <span class="announcement-cta">{announcement.cta}<Icon name={announcement.icon} /></span>
        </a>
      )}

      <h1 class="hero-title">
        <div class="title-line"><span class="title-word" style="--i:0">{title.line1.split(' ')[0]}</span><span class="title-word" style="--i:1">{title.line1.split(' ')[1]}</span></div>
        <div class="title-line"><span class="title-word" style="--i:2">{title.line2.split(' ')[0]}</span><span class="title-word" style="--i:3">{title.line2.split(' ')[1]}</span></div>
        <div class="title-line accent-line"><span class="title-accent"><span id="typed-word"></span><span class="typed-cursor">|</span></span></div>
      </h1>

      <div class="hero-subtitle">
        <p class="subtitle-main">{subtitle.main} <span class="counter" id="member-count">0</span> developers from <span class="highlight">{subtitle.highlight}</span> who chose to stop learning alone.</p>
      </div>

      
      <div class="compact-stats">
        {statPills.map((pill, index) => (
          <div class={`stat-pill ${pill.colorClass}`} style={`--pill-i:${index}`}>
            <span class="pill-icon"><Icon name={pill.icon} /></span>
            <span class="pill-text"><strong>{pill.value}</strong> {pill.label}</span>
            {pill.badge && (
              <span class={`pill-badge ${pill.badge.type}`}>
                {pill.badge.type === 'live' && (
                  <span
                    class="live-pulse"
                    style={`--pulse-color: ${pulseColors.red}; --pulse-size: ${pulseSizes.sm};`}
                  ></span>
                )}
                {pill.badge.icon && <Icon name={pill.badge.icon} />}
                <span>{pill.badge.value}</span>
              </span>
            )}
          </div>
        ))}
      </div>
      

      <div class="cta-section">
        <div class="cta-glow-ring"></div>
        {primaryCTA && (
          <a href={primaryCTA.url} class="cta-primary">
            <span class="cta-bg"></span>

            <span class="cta-content">
              <span class="cta-icon"><Icon name={primaryCTA.icon} /></span>
              <span class="cta-text">
                <span class="cta-main">{primaryCTA.mainText}</span>
                {primaryCTA.subText && <span class="cta-sub">{primaryCTA.subText}</span>}
              </span>
            </span>
            <span class="cta-arrow"><Icon name="lucide:arrow-right" /></span>
          </a>
        )}
        <div class="cta-secondary-group">
          {secondaryCTAs.map(btn => (
            <a href={btn.url} class={`cta-secondary ${btn.variant ? `cta-${btn.variant}` : ''}`}>
              <span class={btn.variant === 'video' ? 'play-btn' : ''}>
                <Icon name={btn.icon} style={btn.variant === 'video' ? 'fill: currentColor; stroke-width: 0;' : ''} />
              </span>
              <span>{btn.mainText}</span>
              {btn.duration && <span class="video-duration">{btn.duration}</span>}
            </a>
          ))}
        </div>
      </div>

      <div class="testimonial-section">
        <div class="testimonial-card">
          <div class="testimonial-border-glow"></div>
          <div class="testimonial-inner">
            <p class="testimonial-text" id="testimonial-text">"{testimonials[0].text}"</p>
            <div class="testimonial-author">
              <div class="author-avatar" id="author-avatar">{testimonials[0].avatar}</div>
              <div class="author-info"><span class="author-name" id="author-name">{testimonials[0].author}</span><span class="author-role" id="author-role">{testimonials[0].role}</span></div>
              <img src={`https://flagcdn.com/${testimonials[0].country}.svg`} class="author-flag" id="author-flag" alt="Flag" />
            </div>
          </div>
        </div>
        <div class="testimonial-dots" id="testimonial-dots">
          {testimonials.map((_, index) => (
            <button class={`dot ${index === 0 ? 'active' : ''}`} data-index={index}></button>
          ))}
        </div>
      </div>
    </div>

    <div class="hero-divider">
      <div class="divider-line"></div>
      <div class="divider-glow"></div>
      <div class="divider-nodes">
        <span class="node" style="--delay: 0s; --top: 15%"></span>
        <span class="node" style="--delay: 0.5s; --top: 35%"></span>
        <span class="node" style="--delay: 1s; --top: 55%"></span>
        <span class="node" style="--delay: 1.5s; --top: 75%"></span>
      </div>
      <div class="divider-particle"></div>
      <div class="divider-data">
        <span class="data-tick" style="--top: 20%"></span>
        <span class="data-tick" style="--top: 40%"></span>
        <span class="data-tick" style="--top: 60%"></span>
        <span class="data-tick" style="--top: 80%"></span>
      </div>
    </div>

    <div class="hero-visual">
      <HomeWorldMapCarousel />
      <Terminal />
    </div>
  </div>

  <div class="trust-marquee">
    <div class="marquee-track">
      <div class="marquee-content">
        {trustMarquee.map(item => (
          <><span class="trust-item"><Icon name={item.icon} /> {item.text}</span><span class="trust-sep"></span></>
        ))}
      </div>
      <div class="marquee-content" aria-hidden="true">
        {trustMarquee.map(item => (
          <><span class="trust-item"><Icon name={item.icon} /> {item.text}</span><span class="trust-sep"></span></>
        ))}
      </div>
    </div>
  </div>

  {scrollIndicator.show && (
    <div class="scroll-indicator" id="scroll-indicator">
      <div class="scroll-mouse"><div class="scroll-wheel"></div></div>
      <span>{scrollIndicator.text}</span>
      <Icon name={scrollIndicator.icon} />
    </div>
  )}
</section>

<script define:vars={{
  typedWords: title.typedWords,
  testimonialsData: testimonials,
  memberCountTarget: subtitle.memberCount
}}>
document.addEventListener('DOMContentLoaded', () => {

  const words = typedWords;
  const typedEl = document.getElementById('typed-word');
  let wordIndex = 0, charIndex = 0, isDeleting = false;
  function typeEffect() {
    if (!typedEl) return;
    const { text, color } = words[wordIndex];
    typedEl.style.color = color;
    typedEl.textContent = isDeleting ? text.substring(0, charIndex - 1) : text.substring(0, charIndex + 1);
    charIndex += isDeleting ? -1 : 1;
    let speed = isDeleting ? 40 : 80;
    if (!isDeleting && charIndex === text.length) { speed = 2500; isDeleting = true; }
    else if (isDeleting && charIndex === 0) { isDeleting = false; wordIndex = (wordIndex + 1) % words.length; speed = 300; }
    setTimeout(typeEffect, speed);
  }
  setTimeout(typeEffect, 800);

  function animateCounter(el, target, duration = 2000) {
    let start = 0;
    const increment = target / (duration / 16);
    const step = () => { start += increment; if (start < target) { el.textContent = Math.floor(start).toLocaleString(); requestAnimationFrame(step); } else { el.textContent = target.toLocaleString(); } };
    step();
  }
  const memberCount = document.getElementById('member-count');
  setTimeout(() => { if (memberCount) animateCounter(memberCount, memberCountTarget, 2500); }, 500);

  const testimonials = testimonialsData.map(t => ({
    text: `"${t.text}"`,
    author: t.author,
    role: t.role,
    avatar: t.avatar,
    country: t.country
  }));
  let testimonialIndex = 0;
  const textEl = document.getElementById('testimonial-text'), nameEl = document.getElementById('author-name'), roleEl = document.getElementById('author-role'), avatarEl = document.getElementById('author-avatar'), flagEl = document.getElementById('author-flag'), dotsEl = document.getElementById('testimonial-dots');
  function showTestimonial(index) {
    const t = testimonials[index];
    const card = document.querySelector('.testimonial-inner');
    if (card) { card.classList.add('transitioning'); setTimeout(() => card.classList.remove('transitioning'), 300); }
    if (textEl) textEl.textContent = t.text;
    if (nameEl) nameEl.textContent = t.author;
    if (roleEl) roleEl.textContent = t.role;
    if (avatarEl) avatarEl.textContent = t.avatar;
    if (flagEl) { flagEl.src = 'https://flagcdn.com/' + t.country + '.svg'; flagEl.alt = t.country.toUpperCase() + ' Flag'; }
    dotsEl?.querySelectorAll('.dot').forEach((dot, i) => { dot.classList.toggle('active', i === index); });
  }
  dotsEl?.querySelectorAll('.dot').forEach(dot => { dot.addEventListener('click', () => { testimonialIndex = parseInt(dot.getAttribute('data-index') || '0'); showTestimonial(testimonialIndex); }); });
  setInterval(() => { testimonialIndex = (testimonialIndex + 1) % testimonials.length; showTestimonial(testimonialIndex); }, 6000);

  const scrollIndicator = document.getElementById('scroll-indicator');
  window.addEventListener('scroll', () => { if (window.scrollY > 100) scrollIndicator?.classList.add('hidden'); else scrollIndicator?.classList.remove('hidden'); });
});
</script>

<style>
  .hero {

    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 14px;
    --radius-xl: 18px;
    --radius-full: 100px;
    position: relative;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 60px 0 0;
    overflow: hidden;
  }

  .hero-container {
    position: relative;
    z-index: 2;
    padding: 4px 48px 48px 48px;
    display: grid;
    grid-template-columns: 1fr 1.15fr;
    gap: 88px;
    align-items: center;
  }

  .hero-content {
    animation: contentIn 1s cubic-bezier(0.16, 1, 0.3, 1) both;
  }

  @keyframes contentIn {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .hero-visual {
    display: flex;
    flex-direction: column;
    gap: 12px;
    animation: visualIn 1s cubic-bezier(0.16, 1, 0.3, 1) 0.3s both;
  }

  @keyframes visualIn {
    from { opacity: 0; transform: translateY(40px) scale(0.97); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  .announcement {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 14px;
    padding: 6px 6px 6px 8px;
    background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
    border: 1px solid var(--border);
    border-radius: var(--radius-full);
    margin-bottom: 24px;
    text-decoration: none;
    transition: all 0.3s ease;
    overflow: hidden;
  }

  .announcement:hover {
    border-color: var(--accent);
    transform: translateY(-2px);
    box-shadow: 0 10px 30px var(--accent-glow);
  }

  .announcement-shimmer {
    position: absolute;
    inset: 0;
    background: linear-gradient(105deg, transparent 40%, rgba(var(--cyan-400-rgb), 0.07) 45%, rgba(var(--indigo-400-rgb), 0.1) 50%, rgba(var(--cyan-400-rgb), 0.07) 55%, transparent 60%);
    background-size: 250% 100%;
    animation: shimmerSweep 4s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes shimmerSweep {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  .announcement-live {
    position: relative;
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 4px 10px;
    background: linear-gradient(135deg, var(--red-500), var(--red-600));
    border-radius: var(--radius-full);
    font-size: 9px;
    font-weight: 800;
    color: var(--white);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .announcement-text {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 1px;
  }

  .announcement-headline {
    font-size: 12px;
    font-weight: 700;
    color: var(--text);
  }

  .announcement-sub {
    font-size: 10px;
    color: var(--text-muted);
  }

  .announcement-cta {
    position: relative;
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 6px 12px;
    background: var(--bg-card);
    border-radius: var(--radius-full);
    font-size: 11px;
    font-weight: 600;
    color: var(--accent);
    transition: all 0.3s ease;
  }

  .announcement:hover .announcement-cta {
    background: var(--accent);
    color: var(--black);
  }

  .announcement-cta :global(svg) {
    width: 13px;
    height: 13px;
    transition: transform 0.3s ease;
  }

  .announcement:hover .announcement-cta :global(svg) {
    transform: translateX(3px);
  }

  .hero-title {
    font-family: var(--font-primary);
    font-size: clamp(2.5rem, 5vw, 4.2rem);
    font-weight: 700;
    line-height: 1.05;
    letter-spacing: -0.04em;
    margin-bottom: 16px;
  }

  .title-line {
    display: block;
    overflow: hidden;
  }

  .title-word {
    display: inline-block;
    opacity: 0;
    animation: wordReveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: calc(var(--i)*0.1s + 0.2s);
    margin-right: 0.2em;
  }

  @keyframes wordReveal {
    from { opacity: 0; transform: translateY(100%) rotatex(-80deg); }
    to  { opacity: 1; transform: translateY(0) rotatex(0);}

  }

  .accent-line {
    min-height: 1.1em;
  }

  .title-accent {
    display: inline-flex;
    align-items: center;
  }

  #typed-word {
    background: var(--gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 0 20px var(--accent-strong));
  }

  #typed-word::before {
    content: '\200b';
  }

  .typed-cursor {
    display: inline-block;
    color: var(--accent);
    font-weight: 400;
    animation: cursorBlink 1s step-end infinite;
    margin-left: 2px;
  }

  @keyframes cursorBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }

  .hero-subtitle {
    margin-bottom: 14px;
  }

  .subtitle-main {
    font-size: 16px;
    color: var(--text-secondary);
    line-height: 1.6;
  }

  .subtitle-main .counter {
    font-weight: 700;
    color: var(--accent);
    font-variant-numeric: tabular-nums;
  }

  .subtitle-main .highlight {
    color: var(--text);
    font-weight: 600;
  }

  .cta-section {
    position: relative;
    display: flex;
    align-items: center;
    gap: 16px;
    margin-top: 20px;
  }

  .cta-glow-ring {
    position: absolute;
    top: 50%;
    left: 110px;
    transform: translate(-50%, -50%);
    width: 180px;
    height: 180px;
    background: radial-gradient(circle, rgba(var(--cyan-400-rgb), 0.12) 0%, transparent 70%);
    border-radius: 50%;
    filter: blur(30px);
    animation: ctaGlowPulse 3s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes ctaGlowPulse {
    0%, 100% { opacity: 0.4; transform: translate(-50%, -50%) scale(1); }
    50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.15); }
  }

  .cta-primary {
    position: relative;
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 5px 10px 5px 20px;
    border-radius: var(--radius-xl);
    text-decoration: none;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    z-index: 1;
  }

  .cta-bg {
    position: absolute;
    inset: 0;
    background: var(--gradient);
    transition: transform 0.4s ease;
  }

  .cta-primary:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 16px 50px var(--accent-strong);
  }

  .cta-primary:hover .cta-bg {
    transform: scale(1.05);
  }

  .cta-content {
    position: relative;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .cta-icon {
    display: flex;
    color: rgba(var(--black-rgb), 0.5);
  }

  .cta-icon :global(svg) {
    width: 22px;
    height: 22px;
  }

  .cta-text {
    display: flex;
    flex-direction: column;
    gap: 1px;
  }

  .cta-main {
    font-size: 15px;
    font-weight: 700;
    color: var(--black);
    font-family: var(--font-primary);
  }

  .cta-sub {
    font-size: 10px;
    color: rgba(var(--black-rgb), 0.6);
  }

  .cta-arrow {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: rgba(var(--black-rgb), 0.15);
    border-radius: var(--radius-lg);
    color: var(--black);
    transition: all 0.3s ease;
  }

  .cta-primary:hover .cta-arrow {
    background: rgba(var(--black-rgb), 0.25);
    transform: translateX(3px);
  }

  .cta-arrow :global(svg) {
    width: 20px;
    height: 20px;
  }

  .cta-secondary-group {
    display: flex;
    gap: 10px;
    z-index: 1;
  }

  .cta-secondary {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    color: var(--text);
    font-size: 13px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    backdrop-filter: blur(8px);
  }

  .cta-secondary:hover {
    border-color: var(--accent);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(var(--black-rgb), 0.15);
  }

  .play-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 26px;
    height: 26px;
    background: var(--accent);
    border-radius: 50%;
    color: var(--black);
    transition: transform 0.3s ease;
  }

  .cta-video:hover .play-btn {
    transform: scale(1.15);
  }

  .play-btn :global(svg) {
    width: 9px;
    height: 9px;
    margin-left: 2px;
  }

  .video-duration {
    font-size: 10px;
    color: var(--text-muted);
    padding: 2px 6px;
    background: var(--bg-secondary);
    border-radius: 4px;
  }

  .cta-tour :global(svg) {
    width: 16px;
    height: 16px;
    color: var(--accent);
  }

  .testimonial-section {
    position: relative;
    margin-top: 16px;
  }

  .testimonial-card {
    position: relative;
    border-radius: var(--radius-lg);
    padding: 1px;
    background: var(--border);
    margin-bottom: 10px;
    transition: all 0.4s ease;
  }

  .testimonial-border-glow {
    position: absolute;
    inset: -1px;
    border-radius: var(--radius-lg);
    background: conic-gradient(from 0deg, transparent 35%, var(--accent) 47%, var(--accent-2) 53%, transparent 65%);
    opacity: 0;
    transition: opacity 0.5s ease;
    z-index: 0;
    animation: testimonialBorderSpin 5s linear infinite;
    filter: blur(1px);
  }

  .testimonial-card:hover .testimonial-border-glow {
    opacity: 0.6;
  }

  .testimonial-card:hover {
    background: transparent;
  }

  @keyframes testimonialBorderSpin {
    to { transform: rotate(360deg); }
  }

  .testimonial-inner {
    position: relative;
    padding: 10px 18px;
    background: rgba(var(--surface-780-rgb), 0.85);
    backdrop-filter: blur(12px);
    border-radius: var(--radius-lg);
    z-index: 1;
    transition: opacity 0.15s ease;
  }

  .testimonial-inner.transitioning {
    opacity: 0.7;
  }

  .testimonial-text {
    font-size: 10px;
    color: var(--text-secondary);
    line-height: 1.55;
    margin-bottom: 8px;
    font-style: italic;
  }

  .testimonial-author {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .author-avatar {
    width: 26px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient);
    border-radius: 50%;
    font-size: 10px;
    font-weight: 700;
    color: var(--black);
    flex-shrink: 0;
    box-shadow: 0 0 12px rgba(var(--cyan-400-rgb), 0.2);
  }

  .author-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 1px;
  }

  .author-name {
    font-size: 12px;
    font-weight: 600;
    color: var(--text);
  }

  .author-role {
    font-size: 11px;
    color: var(--text-muted);
  }

  .author-flag {
    width: 20px;
    height: auto;
    border-radius: 2px;
    filter: drop-shadow(0 2px 4px rgba(var(--black-rgb), 0.1));
    object-fit: contain;
    flex-shrink: 0;
  }

  .testimonial-dots {
    display: flex;
    justify-content: flex-start;
    gap: 6px;
  }

  .testimonial-dots .dot {
    width: 6px;
    height: 6px;
    background: var(--border);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 0;
  }

  .testimonial-dots .dot.active {
    background: var(--accent);
    transform: scale(1.4);
    box-shadow: 0 0 8px rgba(var(--cyan-400-rgb), 0.3);
  }

  .testimonial-dots .dot:hover {
    background: var(--accent);
  }

  .trust-marquee {
    position: relative;
    z-index: 2;
    margin-top: 32px;
    padding: 12px 0;
    background: var(--bg-secondary);
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
    overflow: hidden;
  }

  .marquee-track {
    display: flex;
    width: max-content;
    animation: marquee 40s linear infinite;
  }

  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  .marquee-content {
    display: flex;
    align-items: center;
    gap: 28px;
    padding-right: 28px;
  }

  .trust-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    font-weight: 500;
    color: var(--text-muted);
    white-space: nowrap;
    transition: color 0.3s ease;
  }

  .trust-item:hover {
    color: var(--text-secondary);
  }

  .trust-item :global(svg) {
    width: 16px;
    height: 16px;
    color: var(--accent);
  }

  .trust-sep {
    width: 3px;
    height: 3px;
    background: var(--border);
    border-radius: 50%;
    flex-shrink: 0;
  }

  .scroll-indicator {
    position: absolute;
    bottom: 60px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    animation: fadeIn 1s ease 2s both;
    transition: opacity 0.3s ease;
    z-index: 10;
  }

  .scroll-indicator.hidden {
    opacity: 0;
    pointer-events: none;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .scroll-mouse {
    width: 22px;
    height: 34px;
    border: 2px solid var(--border);
    border-radius: 11px;
    position: relative;
  }

  .scroll-wheel {
    position: absolute;
    top: 7px;
    left: 50%;
    transform: translateX(-50%);
    width: 3px;
    height: 7px;
    background: var(--accent);
    border-radius: 2px;
    animation: scrollWheel 2s ease-in-out infinite;
  }

  @keyframes scrollWheel {
    0%, 100% { top: 7px; opacity: 1; }
    50% { top: 16px; opacity: 0.3; }
  }

  .scroll-indicator span {
    font-size: 9px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .scroll-indicator > :global(svg) {
    width: 14px;
    height: 14px;
    color: var(--text-muted);
    animation: scrollArrow 2s ease-in-out infinite;
  }

  @keyframes scrollArrow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(5px); }
  }

  .hero-divider {
    position: absolute;
    left: calc((100% / 2.15));
    top: 8%;
    bottom: 8%;
    width: 1px;
    z-index: 3;
    pointer-events: none;
  }

  .divider-line {
    position: absolute;
    inset: 0;
    width: 1px;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      rgba(var(--cyan-400-rgb), 0.12) 15%,
      rgba(var(--cyan-400-rgb), 0.2) 30%,
      rgba(var(--indigo-400-rgb), 0.2) 50%,
      rgba(var(--indigo-400-rgb), 0.2) 70%,
      rgba(var(--pink-400-rgb), 0.12) 85%,
      transparent 100%
    );
  }

  .divider-glow {
    position: absolute;
    inset: 0;
    width: 1px;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      var(--accent) 50%,
      transparent 100%
    );
    filter: blur(6px);
    opacity: 0.2;
    animation: dividerGlowPulse 5s ease-in-out infinite;
  }

  @keyframes dividerGlowPulse {
    0%, 100% { opacity: 0.15; }
    50% { opacity: 0.3; }
  }

  .divider-nodes {
    position: absolute;
    inset: 0;
  }

  .node {
    position: absolute;
    top: var(--top);
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    background: var(--accent);
    border-radius: 50%;
    opacity: 0.5;
    animation: nodePulse 4s ease-in-out infinite;
    animation-delay: var(--delay);
    box-shadow: 0 0 8px var(--accent-glow), 0 0 16px var(--accent-glow);
  }

  .node::before {
    content: '';
    position: absolute;
    inset: -3px;
    border: 1px solid var(--accent);
    border-radius: 50%;
    opacity: 0;
    animation: nodeRing 4s ease-out infinite;
    animation-delay: var(--delay);
  }

  @keyframes nodePulse {
    0%, 100% {
      opacity: 0.3;
      transform: translateX(-50%) scale(0.8);
    }
    50% {
      opacity: 0.7;
      transform: translateX(-50%) scale(1.1);
    }
  }

  @keyframes nodeRing {
    0% {
      transform: scale(1);
      opacity: 0.4;
    }
    100% {
      transform: scale(3);
      opacity: 0;
    }
  }

  .divider-particle {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: 30px;
    background: linear-gradient(to bottom, transparent, var(--accent), transparent);
    border-radius: 2px;
    opacity: 0.6;
    animation: particleTravel 8s ease-in-out infinite;
    box-shadow: 0 0 12px var(--accent), 0 0 24px var(--accent-glow);
  }

  @keyframes particleTravel {
    0% {
      top: -30px;
      opacity: 0;
    }
    5% {
      opacity: 0.6;
    }
    95% {
      opacity: 0.6;
    }
    100% {
      top: calc(100% + 30px);
      opacity: 0;
    }
  }

  .divider-data {
    position: absolute;
    inset: 0;
  }

  .data-tick {
    position: absolute;
    top: var(--top);
    left: 50%;
    width: 16px;
    height: 1px;
    background: linear-gradient(to right, transparent, rgba(var(--white-rgb), 0.08), transparent);
    transform: translateX(-50%);
    opacity: 0.5;
  }

  .data-tick::before {
    content: '';
    position: absolute;
    right: 100%;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 1px;
    background: rgba(var(--white-rgb), 0.06);
    margin-right: 2px;
  }

  .data-tick::after {
    content: '';
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 1px;
    background: rgba(var(--white-rgb), 0.06);
    margin-left: 2px;
  }

  .live-pulse {
    display: inline-block;
    width: var(--pulse-size);
    height: var(--pulse-size);
    background: var(--pulse-color);
    border-radius: 50%;
    animation: livePulse 2s ease-in-out infinite;
    box-shadow: 0 0 10px color-mix(in srgb, var(--pulse-color) 50%, transparent);
  }

  @keyframes livePulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.3); }
  }

  .compact-stats {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }

  .stat-pill {
    display: flex;
    align-items: center;
    gap: 7px;
    padding: 7px 14px;
    background: rgba(var(--white-rgb), 0.025);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--white-alpha-10);
    border-radius: 100px;
    font-size: 12px;
    color: var(--zinc-400);
    white-space: nowrap;
    transition: all 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    opacity: 0;
    transform: translateY(12px);
    animation: pillIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  @keyframes pillIn {
    to { opacity: 1; transform: translateY(0); }
  }

  .stat-pill:hover {
    border-color: rgba(var(--cyan-400-rgb), 0.3);
    background: var(--white-alpha-10);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(var(--black-rgb), 0.15), 0 0 0 1px rgba(var(--cyan-400-rgb), 0.08);
  }

  .pill-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 7px;
    flex-shrink: 0;
    transition: all 0.35s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .pill-icon :global(svg) {
    width: 13px;
    height: 13px;
    transition: transform 0.35s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .stat-pill:hover .pill-icon :global(svg) {
    transform: scale(1.15) rotate(-6deg);
  }

  .stat-pill.webinars .pill-icon { background: rgba(var(--red-500-rgb), 0.12); color: var(--red-500); }
  .stat-pill.mentors .pill-icon { background: var(--accent-2-glow); color: var(--indigo-400); }
  .stat-pill.certs .pill-icon { background: rgba(var(--amber-400-rgb), 0.12); color: var(--amber-400); }

  .stat-pill.webinars:hover .pill-icon { background: rgba(var(--red-500-rgb), 0.2); box-shadow: 0 0 12px rgba(var(--red-500-rgb), 0.15); }
  .stat-pill.mentors:hover .pill-icon { background: rgba(var(--indigo-400-rgb), 0.2); box-shadow: 0 0 12px rgba(var(--indigo-400-rgb), 0.15); }
  .stat-pill.certs:hover .pill-icon { background: rgba(var(--amber-400-rgb), 0.2); box-shadow: 0 0 12px rgba(var(--amber-400-rgb), 0.15); }

  .pill-text strong {
    color: var(--zinc-100);
    font-weight: 700;
    font-family: var(--font-primary);
  }

  .pill-badge {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 10px;
    padding: 2px 7px;
    background: var(--white-alpha-10);
    border-radius: 100px;
    color: var(--zinc-500);
    margin-left: 2px;
    transition: all 0.3s ease;
  }

  .pill-badge.live { color: var(--red-500); }
  .stat-pill.webinars:hover .pill-badge.live { background: rgba(var(--red-500-rgb), 0.1); }

  .pill-badge.rating :global(svg) { width: 10px; height: 10px; color: var(--amber-400); fill: var(--amber-400); }
  .pill-badge.rating { color: var(--amber-400); }
  .stat-pill.mentors:hover .pill-badge.rating { background: rgba(var(--amber-400-rgb), 0.1); }

  @media (max-width: 480px) {
    .compact-stats {
      overflow-x: auto;
      flex-wrap: nowrap;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
      mask-image: linear-gradient(90deg, black 90%, transparent);
    }
    .compact-stats::-webkit-scrollbar { display: none; }
  }

  @media (max-width: 1200px) {
    .hero-divider {
      display: none;
    }
    .hero-container {
      grid-template-columns: 1fr;
      gap: 40px;
      text-align: center;
    }
    .hero-content {
      max-width: 680px;
      margin: 0 auto;
    }
    .announcement {
      justify-content: center;
    }
    .cta-section {
      justify-content: center;
    }
    .cta-glow-ring {
      left: 50%;
    }
    .testimonial-section {
      max-width: 480px;
      margin-left: auto;
      margin-right: auto;
    }
    .testimonial-dots {
      justify-content: center;
    }
    .hero-visual {
      max-width: 580px;
      margin: 0 auto;
    }
  }

  @media (max-width: 768px) {
    .hero {
      padding: 70px 0 0;
    }
    .hero-container {
      padding: 0 20px;
      gap: 32px;
    }
    .announcement-text {
      display: none;
    }
    .hero-title {
      font-size: 2rem;
    }
    .cta-section {
      flex-direction: column;
    }
    .cta-primary {
      width: 100%;
      justify-content: center;
    }
    .cta-secondary-group {
      width: 100%;
      flex-direction: column;
    }
    .cta-secondary {
      justify-content: center;
    }
    .cta-glow-ring {
      display: none;
    }
    .scroll-indicator {
      display: none;
    }
    .trust-marquee {
      margin-top: 28px;
    }
    .compact-stats { gap: 6px; }
    .stat-pill { padding: 6px 10px; font-size: 11px; }
    .pill-badge { display: none; }
  }

  :global([data-theme="daylight"]) .cta-main, :global([data-theme="daylight"]) .cta-arrow {
    color: var(--white);
  }
  :global([data-theme="daylight"]) .cta-sub {
    color: var(--white-alpha-70);
  }
  :global([data-theme="daylight"]) .cta-icon {
    color: var(--white-alpha-60);
  }

  :global([data-theme="daylight"]) .testimonial-inner {
    background: var(--white-alpha-80);
  }

</style>
